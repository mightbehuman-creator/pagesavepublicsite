(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{116:function(e,n,a){},122:function(e,n,a){},142:function(e,n,a){e.exports={container:"SubmissionBar_container__20zvx",inputbar:"SubmissionBar_inputbar__eWceA"}},150:function(e,n,a){"use strict";a.r(n);var t=a(1),r=a.n(t),c=a(19),i=a.n(c),o=(a(116),a(30)),s=a(25),l=a(206),d=(a(122),a(23)),u=a(20),p=a(152),g=a(198),b=a(29),j=a.n(b),m=a(55),f=a(33),h=a(70),x=a.n(h),O="https://pagesave.herokuapp.com";function v(){var e="";return e=O+"/pagesave",new Promise((function(n,a){x.a.get(e,{}).then((function(e){console.log(e),n(e)})).catch((function(e){console.log(e),a(e)}))}))}var y=Object(f.b)("archive/fetchArchives",Object(m.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))),k=Object(f.c)({name:"archive",initialState:{archives:[],status:"loading"},reducers:{},extraReducers:function(e){e.addCase(y.pending,(function(e){})).addCase(y.fulfilled,(function(e,n){e.status="idle",e.archives=n.payload}))}}),w=function(e){return e.archive.archives},N=function(e){return e.archive.status},I=k.reducer,S=a(195),C=a(199),B=a(209),T=a(200),P=a(6),R=Object(S.a)((function(e){return{centering:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:e.spacing(4)},archivecontainer:{marginTop:e.spacing(8)},firstArchive:{marginTop:e.spacing(4)},gridcontainer:{backgroundColor:e.palette.background.paper,display:"grid",gridTemplateColumns:"2fr 3fr 4fr",maxWidth:"100%",marginTop:e.spacing(3)},imgofpage:{width:"max-content",overflowY:"hidden",height:"100%",maxHeight:"100%",maxWidth:"100%",verticalAlign:"top",objectFit:"cover",objectPosition:"0% 0%"},archiveTitle:{fontFamily:"'Train One', cursive"},paper:{height:"100%"},fillheight:{height:"200px"}}}));function U(e){console.log("props withing single archive"),console.log(e);var n=R();return Object(P.jsxs)("div",{className:0==e.idx?n.firstArchive:n.archivecontainer,children:[Object(P.jsx)(p.a,{variant:"h5",gutterBottom:!0,children:e.title}),Object(P.jsxs)("div",{className:n.gridcontainer,children:[Object(P.jsx)(g.a,{className:n.fillheight,children:Object(P.jsx)(C.a,{elevation:3,className:n.paper,children:Object(P.jsx)("a",{href:e.img0B,target:"_blank",rel:"noopener noreferrer nofollow",children:Object(P.jsx)("img",{className:n.imgofpage,src:e.img0})})})}),Object(P.jsx)(g.a,{className:n.fillheight,children:Object(P.jsx)(C.a,{elevation:3,className:n.paper,children:Object(P.jsx)("a",{href:e.img1B,target:"_blank",rel:"noopener noreferrer nofollow",children:Object(P.jsx)("img",{className:n.imgofpage,src:e.img1})})})}),Object(P.jsx)(g.a,{className:n.fillheight,children:Object(P.jsx)(C.a,{elevation:3,className:n.paper,children:Object(P.jsx)("a",{href:e.img2B,target:"_blank",rel:"noopener noreferrer nofollow",children:Object(P.jsx)("img",{className:n.imgofpage,src:e.img2})})})})]}),Object(P.jsxs)(g.a,{style:{paddingTop:"16px",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)(T.a,{href:e.url,target:"_blank",rel:"noopener noreferrer nofollow",children:"Visit Link"}),Object(P.jsx)(T.a,{href:"#",children:"Set revision alert"})]})]})}function A(){var e=Object(s.b)(),n=Object(s.c)(w),a=Object(s.c)(N);console.log("reverse");var r=Object(u.a)(n).reverse(),c=Object(t.useState)(1),i=Object(d.a)(c,2),l=i[0],b=i[1],j=R();return Object(t.useEffect)((function(){console.log("running archive mounting stuff"),e(y())}),[]),"loading"!==a&&Object(P.jsxs)(g.a,{maxWidth:"md",children:[Object(P.jsx)(p.a,{variant:"h3",className:j.archiveTitle,gutterBottom:!0,children:"ARCHIVES"}),r.filter((function(e,n){return n>=5*(l-1)&&n<5*l})).map((function(e,n){return Object(P.jsx)(U,Object(o.a)({idx:n},e),e.id)})),Object(P.jsx)("div",{className:j.centering,children:Object(P.jsx)(B.a,{page:l,onChange:function(e,n){console.log(n),b(n)},count:Math.ceil(r.length/5),color:"secondary"})})]})}var D=a(13),E=a(202),z=a(97),_=a.n(z),L=a(207);a(142);function M(e){var n="";return n=O+"/pagesave",new Promise((function(a,t){x.a.post(n,{url:e}).then((function(e){console.log(e),a(e)})).catch((function(e){console.log(e),t(e)}))}))}var W=Object(f.b)("submissionbar/submitURL",function(){var e=Object(m.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to submit async ".concat(n)),e.next=3,M(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),H=function(e){return e.submissionbar.snackbarOpen},F=function(e){return e.submissionbar.snackbarMsg},Q=function(e){return e.submissionbar.snackbarType},V=Object(f.c)({name:"submissionbar",initialState:{status:"idle",snackbarOpen:!1,snackbarMsg:"",snackbarType:"error"},reducers:{closeSB:function(e){e.snackbarOpen=!1},showInvalidURLMsg:function(e){e.snackbarOpen=!0,e.snackbarMsg="Url is invalid",e.snackbarType="error"}},extraReducers:function(e){e.addCase(W.pending,(function(e){e.status="submitting"})).addCase(W.fulfilled,(function(e,n){e.status="idle",e.snackbarOpen=!0,e.snackbarMsg="Url submitted",e.snackbarType="success"}))}}),X=V.actions,$=X.closeSB,q=X.showInvalidURLMsg,G=V.reducer,J=a(96),K=a.n(J),Y=Object(S.a)((function(e){return{container:{marginTop:e.spacing(8)},savebutton:Object(D.a)({minWidth:"150px",alignSelf:"flex-end",height:"56px"},e.breakpoints.up("md"),{flexDirection:"row",minwidth:"0px",marginLeft:"32px"}),input:{width:"80%"},root:Object(D.a)({margin:"auto",display:"flex",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(2)},flexDirection:"column"},e.breakpoints.up("sm"),{flexDirection:"row",maxWidth:"500px"})}}));function Z(){var e=Object(s.b)(),n=r.a.createRef(),a=function(a){a.preventDefault();var t=n.current.value;console.log(t),K.a.isUri(t)?(console.log("Looks like an URI"),e(W(t)),n.current.value=""):(console.log("Not a URI"),e(q()))},t=Y();return Object(P.jsx)("div",{className:t.container,children:Object(P.jsxs)("form",{className:t.root,onSubmit:a,noValidate:!0,autoComplete:"off",children:[Object(P.jsx)(L.a,{inputRef:n,className:t.input,label:"Enter url of page to save"}),Object(P.jsx)(E.a,{className:t.savebutton,startIcon:Object(P.jsx)(_.a,{}),variant:"contained",color:"primary",onClick:a,children:"Save"})]})})}var ee=a(79);ee.a.initializeApp({apiKey:"AIzaSyCTKDCCVasMozc94FO9WexvvBkvHaXrn-w",authDomain:"page-save.firebaseapp.com",databaseURL:"https://page-save-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"page-save",storageBucket:"page-save.appspot.com",messagingSenderId:"191537973535",appId:"1:191537973535:web:e9521da8ba973166a8082a",measurementId:"G-HX28BXHXWD"});var ne=ee.a.database(),ae=Object(S.a)({title:{fontFamily:"'Train One', cursive"},heroBackground:Object(D.a)({width:"100%",margin:0,textAlign:"center",height:"500px",paddingTop:"120px",boxSizing:"border-box"},"height","100vh"),greenIndicator:{background:"#28B62C",display:"inline-block",width:"1em",height:"1em",borderRadius:"50%",animation:"$pulse 2s infinite linear"},redIndicator:{background:"red",display:"inline-block",width:"1em",height:"1em",borderRadius:"50%"},"@keyframes pulse":{"0%":{transform:"scale(1)"},"25%":{transform:"scale(1)"},"50%":{transform:"scale(1.2)"},"75%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}});function te(){var e=ae(),n=Object(t.useState)("offline"),a=Object(d.a)(n,2),r=a[0],c=a[1];return Object(t.useEffect)((function(){ne.ref("status").on("value",(function(e){console.log("status: "+e.val()),c(e.val())}),(function(e){console.log("The read failed: "+e.name)}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"16px"},children:["online"===r?Object(P.jsx)("span",{className:e.greenIndicator}):Object(P.jsx)("span",{className:e.redIndicator}),Object(P.jsx)(p.a,{className:e.title,style:{marginLeft:"8px"},variant:"subtitle2",gutterBottom:!0,children:r})]}),Object(P.jsxs)("div",{className:e.heroBackground,children:[Object(P.jsx)(p.a,{className:e.title,variant:"h2",gutterBottom:!0,children:"Page Saver"}),Object(P.jsx)("div",{}),Object(P.jsx)(Z,{})]})]})}var re=Object(S.a)((function(e){return{footercontainer:{minHeight:"100px",display:"flex",justifyContent:"center",alignItems:"center",background:e.palette.primary.dark,borderTop:"1px solid black"},footertext:{margin:"auto",textAlign:"center",color:e.palette.primary.contrastText},footerMarginTop:{marginTop:e.spacing(4)}}})),ce=function(){var e=re();return Object(P.jsx)("footer",{className:e.footerMarginTop,children:Object(P.jsx)("div",{className:e.footercontainer,children:Object(P.jsx)(p.a,{className:e.footertext,variant:"subtitle",children:"mightbehuman@protonmail.com"})})})},ie=Object(f.c)({name:"progressdialog",initialState:{urlsInProgress:{},showProgressDialog:!0},reducers:{closeDialog:function(e,n){e.showProgressDialog=!1},updateUrls:function(e,n){console.log("received update url actions"),console.log(n.payload);var a=Object(o.a)({},e);a.showProgressDialog=!0;for(var t=0,r=Object.entries(n.payload||{});t<r.length;t++){var c=Object(d.a)(r[t],2),i=c[0],s=c[1];console.log("Checking from action payload: "+s),"undefined"===typeof e.urlsInProgress[i]&&(console.log("added new:"+s),a.urlsInProgress=Object(o.a)(Object(o.a)({},a.urlsInProgress),{},Object(D.a)({},i,{link:s,status:"downloading"})))}for(var l=0,u=Object.entries(e.urlsInProgress);l<u.length;l++){var p=Object(d.a)(u[l],2),g=p[0],b=p[1],j=b.status,m=b.link;console.log("Checking from state: "+j+" "+m),n.payload&&"undefined"!==typeof n.payload[g]||(console.log("completed:"+m),a.urlsInProgress=Object(o.a)(Object(o.a)({},a.urlsInProgress),{},Object(D.a)({},g,Object(o.a)(Object(o.a)({},a.urlsInProgress[g]),{},{status:"completed"}))))}return a}}}),oe=ie.actions,se=oe.updateUrls,le=oe.closeDialog,de=function(e){return e.progressdialog.urlsInProgress},ue=function(e){return e.progressdialog.showProgressDialog},pe=ie.reducer,ge=a(100),be=a.n(ge),je=a(208),me=a(102),fe=a.n(me),he=a(103),xe=a.n(he),Oe=a(101),ve=a.n(Oe);function ye(e,n){return e.length<n?e:e.substr(0,n)+"\u2026"}var ke=a(205),we=a(212),Ne=a(203),Ie=a(204),Se=a(99),Ce=a.n(Se),Be=a(98),Te=a(36),Pe=a(153),Re=Object(S.a)((function(e){return{root:{maxWidth:"90vw",position:"fixed",bottom:"0px",right:"0px",margin:"16px",paddingBottom:"0px"},header:{display:"flex",background:"white",borderRadius:"10px 10px 0px 0px",alignItems:"center"},headericon:{},acsummary:{padding:"0px"},acsummarycontent:{padding:"0px",margin:"0px","&$expanded":{margin:"0px",padding:"0px"}},lastchild:{"&:last-child":{paddingBottom:"8px"}},checkmark:{marginLeft:"auto"},urlcontainer:{display:"flex",padding:e.spacing(1)+"px "+e.spacing(1)+"px",width:"inherit",alignItems:"center"},urlcontainercompleted:{display:"flex",padding:e.spacing(1)+"px "+e.spacing(3)+"px",color:e.palette.primary.dark,alignItems:"center"},overrideaccordionshadowandmargin:{boxShadow:"none",border:"none",margin:"0","&$expanded":{margin:"0"}},expanded:{},urls:{marginLeft:e.spacing(2),wordBreak:"break-word",whiteSpace:"normal"},processingQueue:Object(D.a)({},e.breakpoints.down("sm"),{fontSize:e.typography.body1.fontSize})}}));function Ue(e){var n=Object(s.c)(de),a=Object(s.c)(ue),c=Object(s.b)(),i=Re();e.anchorEl;Object(t.useEffect)((function(){ne.ref("queue/").on("value",(function(e){var n=e.val();console.log("queue changes"),console.log(n),c({type:"QUEUE_CHANGE",payload:n})}))}),[]);var o=r.a.useState(!1),l=Object(d.a)(o,2),u=l[0],b=l[1],j=Object(Te.a)();return console.log("existingurls"),window.exu=n,console.log(n),Object.values(n).length>0&&a&&Object(P.jsx)(je.a,{borderRadius:"20px",boxShadow:3,m:0,style:{paddingRight:"8px",paddingLeft:"8px",paddingTop:"8px",paddingBottom:"8px"},bgcolor:"background.paper",className:i.root,children:Object(P.jsxs)(we.a,{expanded:!u,onChange:function(){b(!u)},classes:{root:i.overrideaccordionshadowandmargin,expanded:i.expanded},children:[Object(P.jsxs)(Ne.a,{expandIcon:Object(P.jsx)(Ce.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",p:0,m:0,style:{paddingRight:"40px"},classes:{root:i.acsummary,content:i.acsummarycontent,expanded:i.expanded},children:[Object(P.jsxs)("div",{className:i.header,children:[Object(P.jsx)(be.a,{style:{margin:"8px"},color:"primary",fontSize:"large"}),Object(P.jsxs)("div",{children:[Object(P.jsx)(p.a,{variant:"h6",gutterBottom:!1,className:i.processingQueue,children:"Processing"}),!u&&Object(P.jsxs)(p.a,{variant:"caption",children:[Object.values(n).filter((function(e){return"downloading"===e.status})).length," page saving in progress..."]})]})]}),Object(P.jsx)(Pe.a,{style:{position:"absolute",right:"0px",top:"8px"},"aria-label":"close",onClick:function(){return c(le())},children:Object(P.jsx)(ve.a,{fontSize:"small"})})]}),Object(P.jsx)(Ie.a,{style:{margin:0,padding:0},children:Object(P.jsx)("div",{className:i.body,children:Object.entries(n).map((function(e){var n=Object(d.a)(e,2),a=n[0],t=n[1];return"downloading"===t.status?Object(P.jsxs)("div",{className:i.lastchild,children:[Object(P.jsxs)("div",{className:i.urlcontainer,children:[Object(P.jsx)(fe.a,{fontSize:"small",color:"disabled"}),Object(P.jsxs)(p.a,{variant:"body2",className:i.urls,children:["Saving ",ye(t.link,30)]})]}),Object(P.jsx)(g.a,{children:Object(P.jsx)(ke.a,{color:"primary"})})]},a):Object(P.jsxs)("div",{className:i.urlcontainercompleted,children:[Object(P.jsx)(xe.a,{fontSize:"small"}),Object(P.jsx)(p.a,{className:i.urls,children:ye(t.link,30)}),Object(P.jsx)("div",{className:i.checkmark,children:Object(P.jsx)(Be.Checkmark,{size:"medium",color:j.palette.primary.main})})]},a)}))})})]})})}var Ae=a(211),De=a(210);function Ee(e){return Object(P.jsx)(De.a,Object(o.a)({elevation:6,variant:"filled"},e))}var ze=function(){var e=Object(s.c)(H),n=Object(s.c)(F),a=Object(s.c)(Q),t=Object(s.b)(),r=function(e,n){"clickaway"!==n&&(console.log("trying to close"),t($()))};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(l.a,{}),Object(P.jsx)(te,{}),Object(P.jsx)(A,{}),Object(P.jsx)(Ae.a,{open:e,autoHideDuration:1200,onClose:r,children:Object(P.jsx)(Ee,{onClose:r,severity:a,children:n})}),Object(P.jsx)(Ue,{}),Object(P.jsx)(ce,{})]})};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n){return setTimeout((function(){return n({data:e})}),500)}))}var Le=Object(f.b)("counter/fetchCount",function(){var e=Object(m.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Me=Object(f.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,n){e.value+=n.payload}},extraReducers:function(e){e.addCase(Le.pending,(function(e){e.status="loading"})).addCase(Le.fulfilled,(function(e,n){e.status="idle",e.value+=n.payload}))}}),We=Me.actions,He=(We.increment,We.decrement,We.incrementByAmount,Me.reducer),Fe=a(104),Qe=a(59),Ve=j.a.mark(qe),Xe=j.a.mark(Ge),$e=j.a.mark(Je);function qe(e){var n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Qe.c)();case 2:return n=a.sent,console.log("queue changes async curState"),console.log(n),console.log("action:"),console.log(e),a.next=9,Object(Qe.b)(se(e.payload));case 9:return a.next=11,Object(Qe.b)(y());case 11:case"end":return a.stop()}}),Ve)}function Ge(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qe.d)("QUEUE_CHANGE",qe);case 2:case"end":return e.stop()}}),Xe)}function Je(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qe.a)([Ge()]);case 2:case"end":return e.stop()}}),$e)}var Ke=Object(Fe.a)(),Ye=Object(f.a)({reducer:{counter:He,submissionbar:G,archive:I,progressdialog:pe},middleware:function(e){return[].concat(Object(u.a)(e()),[Ke])}});Ke.run(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(s.a,{store:Ye,children:Object(P.jsx)(ze,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.69470b9c.chunk.js.map