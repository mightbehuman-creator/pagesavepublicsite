(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{100:function(e,t,n){},120:function(e,t,n){e.exports={container:"SubmissionBar_container__20zvx",inputbar:"SubmissionBar_inputbar__eWceA"}},127:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),i=n.n(c),o=(n(94),n(35)),s=n(24),l=n(173),u=(n(100),n(30)),d=n(19),b=n(168),p=n(170),j=n(31),g=n.n(j),f=n(39),h=n(27),m=n(54),v=n.n(m),x="https://pagesave.herokuapp.com";function O(){var e="";return e=x+"/pagesave",new Promise((function(t,n){v.a.get(e,{}).then((function(e){console.log(e),t(e)})).catch((function(e){console.log(e),n(e)}))}))}var y=Object(h.b)("archive/fetchArchives",Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),k=Object(h.c)({name:"archive",initialState:{archives:[],status:"idle"},reducers:{},extraReducers:function(e){e.addCase(y.pending,(function(e){e.status="loading"})).addCase(y.fulfilled,(function(e,t){e.status="idle",e.archives=t.payload}))}}),w=function(e){return e.archive.archives},N=function(e){return e.archive.status},C=k.reducer,T=n(165),S=n(171),B=n(176),I=n(7),A=Object(T.a)((function(e){return{centering:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:e.spacing(4)},archivecontainer:{marginTop:e.spacing(8)},firstArchive:{marginTop:e.spacing(4)},gridcontainer:{backgroundColor:e.palette.background.paper,display:"grid",gridTemplateColumns:"2fr 3fr 4fr",maxWidth:"100%",marginTop:e.spacing(3)},imgofpage:{width:"max-content",overflowY:"hidden",height:"100%",maxHeight:"100%",maxWidth:"100%",verticalAlign:"top",objectFit:"cover",objectPosition:"0% 0%"},archiveTitle:{fontFamily:"'Train One', cursive"},paper:{height:"100%"},fillheight:{height:"200px"}}}));function R(e){console.log(e);var t=A();return Object(I.jsxs)("div",{className:0==e.idx?t.firstArchive:t.archivecontainer,children:[Object(I.jsx)(b.a,{variant:"h5",gutterBottom:!0,children:e.title}),Object(I.jsxs)("div",{className:t.gridcontainer,children:[Object(I.jsx)(p.a,{className:t.fillheight,children:Object(I.jsx)(S.a,{elevation:3,className:t.paper,children:Object(I.jsx)("a",{href:e.img0,target:"_blank",children:Object(I.jsx)("img",{className:t.imgofpage,src:e.img0})})})}),Object(I.jsx)(p.a,{className:t.fillheight,children:Object(I.jsx)(S.a,{elevation:3,className:t.paper,children:Object(I.jsx)("a",{href:e.img1,target:"_blank",children:Object(I.jsx)("img",{className:t.imgofpage,src:e.img1})})})}),Object(I.jsx)(p.a,{className:t.fillheight,children:Object(I.jsx)(S.a,{elevation:3,className:t.paper,children:Object(I.jsx)("a",{href:e.img2,target:"_blank",children:Object(I.jsx)("img",{className:t.imgofpage,src:e.img2})})})})]})]})}function W(){var e=Object(s.b)(),t=Object(s.c)(w),n=Object(s.c)(N);console.log("reverse");var r=Object(d.a)(t).reverse(),c=Object(a.useState)(1),i=Object(u.a)(c,2),l=i[0],j=i[1],g=A();return Object(a.useEffect)((function(){console.log("running archive mounting stuff"),e(y())}),[]),"loading"!==n&&Object(I.jsxs)(p.a,{maxWidth:"md",children:[Object(I.jsx)(b.a,{variant:"h3",className:g.archiveTitle,gutterBottom:!0,children:"ARCHIVES"}),r.filter((function(e,t){return t>=5*(l-1)&&t<5*l})).map((function(e,t){return Object(I.jsx)(R,Object(o.a)({idx:t},e),e.id)})),Object(I.jsx)("div",{className:g.centering,children:Object(I.jsx)(B.a,{page:l,onChange:function(e,t){console.log(t),j(t)},count:Math.ceil(r.length/5),color:"secondary"})})]})}var P=n(11),_=n(172),D=n(81),H=n.n(D),z=n(174);n(120);function E(e){var t="";return t=x+"/pagesave",new Promise((function(n,a){v.a.post(t,{url:e}).then((function(e){console.log(e),n(e)})).catch((function(e){console.log(e),a(e)}))}))}var F=Object(h.b)("submissionbar/submitURL",function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trying to submit async ".concat(t)),e.next=3,E(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=function(e){return e.submissionbar.snackbarOpen},U=Object(h.c)({name:"submissionbar",initialState:{status:"idle",snackbarOpen:!1},reducers:{closeSB:function(e){e.snackbarOpen=!1}},extraReducers:function(e){e.addCase(F.pending,(function(e){e.status="submitting"})).addCase(F.fulfilled,(function(e,t){e.status="idle",e.snackbarOpen=!0}))}}),L=U.actions.closeSB,X=U.reducer,q=Object(T.a)((function(e){return{container:{marginTop:e.spacing(8)},savebutton:Object(P.a)({minWidth:"150px",alignSelf:"flex-end",height:"56px"},e.breakpoints.up("md"),{flexDirection:"row",minwidth:"0px",marginLeft:"32px"}),input:{width:"80%"},root:Object(P.a)({margin:"auto",display:"flex",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(2)},flexDirection:"column"},e.breakpoints.up("sm"),{flexDirection:"row",maxWidth:"500px"})}}));function V(){var e=Object(s.b)(),t=r.a.createRef(),n=q();return Object(I.jsx)("div",{className:n.container,children:Object(I.jsxs)("form",{className:n.root,noValidate:!0,autoComplete:"off",children:[Object(I.jsx)(z.a,{inputRef:t,className:n.input,label:"Enter url of page to save"}),Object(I.jsx)(_.a,{className:n.savebutton,startIcon:Object(I.jsx)(H.a,{}),variant:"contained",color:"primary",onClick:function(){var n=t.current.value;console.log(n),e(F(n)),t.current.value=""},children:"Save"})]})})}var J=Object(T.a)({title:{fontFamily:"'Train One', cursive"},heroBackground:Object(P.a)({width:"100%",margin:0,textAlign:"center",height:"500px",paddingTop:"120px",boxSizing:"border-box"},"height","100vh")});function K(){var e=J();return Object(I.jsxs)("div",{className:e.heroBackground,children:[Object(I.jsx)(b.a,{className:e.title,variant:"h2",gutterBottom:!0,children:"Page Saver"}),Object(I.jsx)("div",{}),Object(I.jsx)(V,{})]})}var G=Object(T.a)((function(e){return{footercontainer:{minHeight:"100px",display:"flex",justifyContent:"center",alignItems:"center",background:e.palette.primary.dark,borderTop:"1px solid black"},footertext:{margin:"auto",textAlign:"center",color:e.palette.primary.contrastText},footerMarginTop:{marginTop:e.spacing(4)}}})),Y=function(){var e=G();return Object(I.jsx)("footer",{className:e.footerMarginTop,children:Object(I.jsx)("div",{className:e.footercontainer,children:Object(I.jsx)(b.a,{className:e.footertext,variant:"subtitle",children:"mightbehuman@protonmail.com"})})})},$=n(61);$.a.initializeApp({apiKey:"AIzaSyCTKDCCVasMozc94FO9WexvvBkvHaXrn-w",authDomain:"page-save.firebaseapp.com",databaseURL:"https://page-save-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"page-save",storageBucket:"page-save.appspot.com",messagingSenderId:"191537973535",appId:"1:191537973535:web:e9521da8ba973166a8082a",measurementId:"G-HX28BXHXWD"});var Q=$.a.database(),Z=Object(h.c)({name:"progressdialog",initialState:{urlsInProgress:[]},reducers:{updateUrls:function(e,t){e.urlsInProgress=null==t.payload?[]:Object.values(t.payload),console.log("received update url actions"),console.log(t.payload)}}}),ee=Z.actions.updateUrls,te=function(e){return e.progressdialog.urlsInProgress},ne=Z.reducer,ae=n(82),re=n.n(ae),ce=Object(T.a)((function(e){return{root:{maxwidth:"300px",position:"fixed",bottom:"0px",right:"0px",background:"pink"},header:{display:"flex",background:"yellow",borderRadius:"10px 10px 0px 0px",border:"2px solid red"},headericon:{}}}));function ie(){var e=Object(s.c)(te),t=Object(s.b)(),n=ce();return Object(a.useEffect)((function(){Q.ref("queue/").on("value",(function(e){var n=e.val();console.log("queue changes"),console.log(n),t(ee(n))}))}),[]),Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsxs)("div",{className:n.header,children:[Object(I.jsx)(re.a,{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(b.a,{variant:"h6",children:"Processing queue"}),Object(I.jsxs)(b.a,{variant:"subtitle1",children:[e.length," page saving in progress"]})]})]}),Object(I.jsxs)("div",{className:n.body,children:[e.map((function(e){return Object(I.jsx)(b.a,{children:e})})),";"]})]})}var oe=n(178),se=n(175);function le(e){return Object(I.jsx)(se.a,Object(o.a)({elevation:6,variant:"filled"},e))}var ue=function(){var e=Object(s.c)(M),t=Object(s.b)(),n=function(e,n){"clickaway"!==n&&(console.log("trying to close"),t(L()))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{}),Object(I.jsx)(K,{}),Object(I.jsx)(W,{}),Object(I.jsx)(oe.a,{open:e,autoHideDuration:1200,onClose:n,children:Object(I.jsx)(le,{onClose:n,severity:"success",children:"URL saved!"})}),Object(I.jsx)(ie,{}),Object(I.jsx)(Y,{})]})};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var be=Object(h.b)("counter/fetchCount",function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pe=Object(h.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(be.pending,(function(e){e.status="loading"})).addCase(be.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),je=pe.actions,ge=(je.increment,je.decrement,je.incrementByAmount,pe.reducer),fe=Object(h.a)({reducer:{counter:ge,submissionbar:X,archive:C,progressdialog:ne}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(s.a,{store:fe,children:Object(I.jsx)(ue,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.23249da1.chunk.js.map